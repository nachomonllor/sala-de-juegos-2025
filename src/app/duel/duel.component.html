<div class="game-container">
  <!-- Selector de tema -->
  <div class="form-group">
    <label for="themeSelect">Seleccione Tema:</label>
    <select id="themeSelect" [(ngModel)]="selectedTheme" (change)="loadQuestion()">
      <option *ngFor="let t of ['historia', 'geografia', 'arte', 'biologia']" [value]="t">
        {{ t | titlecase }}
      </option>
    </select>
  </div>

  <!-- Juego activo -->
  <div *ngIf="!gameOver; else overTpl">
    <div class="card">
      <div class="card-header">
        Preguntados â€“ Tema: {{ selectedTheme | titlecase }}
      </div>
      <div class="card-body">
        <img *ngIf="currentImage" [src]="currentImage" alt="Pregunta visual" class="img-fluid" />
        <p class="lead">{{ currentQuestion }}</p>

        <div class="scoreboard">
          Vidas: {{ lives }}
        </div>

        <div class="controls">
          <button *ngFor="let opt of options" (click)="selectAnswer(opt)" [disabled]="answered">
            {{ opt }}
          </button>
        </div>

        <div *ngIf="message" class="alert alert-info">
          {{ message }}
        </div>

        <button *ngIf="answered && !gameOver" class="btn btn-success" (click)="nextQuestion()">
          Siguiente
        </button>
      </div>
    </div>
  </div>

  <div class="mt-3">
    <a routerLink="/home" class="btn btn-outline-primary">Volver al Home</a>
  </div>

  <!-- Game Over -->
  <ng-template #overTpl>
    <div class="game-over text-center">
      <h1>Game Over</h1>
      <p>Te quedaste sin vidas.</p>
      <button (click)="reset()">Reiniciar</button>
    </div>
  </ng-template>
</div>